#!/bin/bash

 
#get libraries
   
#get database
sudo apt-get install redis-server

#make marvin
echo '#!/bin/bash

LIB="$(pwd)/lib"
COMMAND="$@"
NAME=$(./redis-bash/redis-bash-cli -h localhost GET username)

function traverse {
   for f in $1/*
   do
       if [ -f $f ]; then
           source $f
       elif [ -d $f ]; then
           traverse $f
       fi
   done
}

traverse $LIB

if [[ $COMMAND =~ "hello" ]]
then
    echo "hey!"
    read -p "What is your name? "
    NAME="$REPLY"
    SAVE=$(./redis-bash/redis-bash-cli -h localhost SET username $NAME)
    echo "Ok, $NAME"
elif [[ $COMMAND =~ "help" ]]
then
    commands.list-actions
fi' > marvin

chown +x marvin

mv init core/
