
function capacities.understand {

RAW="$1"
COMMAND="$(capacities.format-command $RAW)"

if [ "$(capacities.function_exists $COMMAND)" == "true" ]
then
    capacities.execute "$COMMAND"
elif [[ ! "$(capacities.get_info commands.$COMMAND)" -eq -1 ]]
then
    capacities.execute $(capacities.get_info "commands.$COMMAND")
else
    #Search synonyme
    WORDLIST=$(curl "http://words.bighugelabs.com/api/2/1b3b426137b65a70578bf3251d16d30a/$RAW/" 2>/dev/null | awk -F '|' '{print $3}')
    echo "$WORDLIST" | while read -r KEY
    do 
        if [ "$(capacities.function_exists $KEY)" == "true" ]
        then 
            capacities.set_info "commands.$COMMAND" "$KEY"
        fi
    done

    if [[ ! "$(capacities.get_info commands.$COMMAND)" -eq -1 ]]
    then
        capacities.execute $(capacities.get_info "commands.$COMMAND")
    else
        capacities.tell "Sorry $NAME, I didn't get it..."
        capacities.yes_no "Would like to manually help to improve me?"
        if [ "$REPLY" == "yes" ]; then
            capacities.build_menu "capacities.execute" "What should I do?" "learn new command [$(echo $COMMAND | sed 's#api.##')]" "link command to another"
        fi
    fi
fi

capacities.indic "Done"

}
